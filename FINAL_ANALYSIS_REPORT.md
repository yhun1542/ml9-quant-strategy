# 최종 분석 리포트: ML9 Failure Mode 및 Min-Max 앙상블 최적화

**Manus AI** | 2025-11-28

## 1. 분석 목적

본 리포트는 다음 두 가지 핵심 질문에 답하기 위해 작성되었습니다:
1.  **ML9 엔진은 언제, 어떤 시장 조건에서 실패하는가?** (Failure Mode 분석)
2.  **ML9 + QV 앙상블로 모든 기간에 걸쳐 안정적으로 Sharpe 2.0 이상을 달성할 수 있는가?** (Min-Max 최적화)

## 2. ML9 Failure Mode 분석 결과

### 2.1. 핵심 발견

ML9 엔진은 **SPX 지수가 -2% ~ 0% 사이로 하락하는 구간**에서 일관되게 나쁜 성과(Sharpe -2.0 ~ -2.4)를 보였습니다. 이는 시장 변동성(Low/Mid/High)과 무관하게 나타나는 명확한 실패 패턴입니다.

| 조건 | N (일) | 평균 수익률 | Sharpe |
|---|---|---|---|
| SPX (-2%, 0] & Vol Low | 58 | -0.0058 | -2.00 |
| SPX (-2%, 0] & Vol Mid | 52 | -0.0062 | -2.04 |
| SPX (-2%, 0] & Vol High | 49 | -0.0085 | -2.40 |

### 2.2. 예방 조건 도출

위 분석을 바탕으로 다음과 같은 **조건부 포지션 축소 룰**을 도출했습니다:

> **만약 SPX 일간 수익률이 -2% ~ 0% 사이에 해당하면, ML9 엔진의 포지션을 50%로 축소한다.**

이 룰은 향후 앙상블 전략의 리스크 관리 레이어에 적용하여 안정성을 크게 향상시킬 수 있습니다.

## 3. Min-Max 앙상블 최적화 결과

### 3.1. 목표: 모든 윈도우에서 Sharpe ≥ 2.0 달성

2023-2024년 데이터를 4개의 반기 윈도우로 나누어, 모든 윈도우에서 Sharpe 2.0 이상을 달성하는 ML9과 QV의 가중치 조합을 탐색했습니다.

### 3.2. 결론: 현재 엔진 조합으로는 불가능

**결론적으로, 현재 ML9과 QV 엔진 조합만으로는 모든 윈도우에서 Sharpe 2.0 이상을 달성하는 것이 수학적으로 불가능합니다.**

가장 안정적인 조합(Min-Max 최적 조합)은 다음과 같습니다:

- **가중치**: ML9 40% + QV 60%
- **최소 Sharpe**: **1.53** (2023년 하반기)

| 윈도우 | Sharpe |
|---|---|
| 2023 H1 | 9.82 |
| 2023 H2 | **1.53** |
| 2024 H1 | 2.24 |
| 2024 H2 | 1.56 |

## 4. 종합 결론 및 향후 전략 제언

1.  **현실 인지**: 현재 엔진 구성으로는 "어떤 경우에도 Sharpe 2.0 이상"이라는 목표를 달성할 수 없습니다. 목표를 **"최소 Sharpe 1.5 이상을 유지하며 전체 Sharpe 극대화"**로 재조정하는 것이 합리적입니다.

2.  **리스크 관리 우선**: ML9의 명확한 실패 구간을 확인했으므로, 2.2절에서 도출한 **조건부 포지션 축소 룰을 최우선으로 적용**하여 안정성을 확보해야 합니다.

3.  **앙상블 확장**: 안정적인 Sharpe 2.0+를 달성하기 위해서는 Low Volatility, Trend Following 등 **새로운 알파 소스를 추가**하여 앙상블을 다각화하는 것이 필수적입니다.

## 5. 참고 자료

- [1] [ML9 Failure Mode 분석 결과](/home/ubuntu/quant-ensemble-strategy/results/ml9_condition_performance.json)
- [2] [Min-Max 앙상블 최적화 결과](/home/ubuntu/quant-ensemble-strategy/results/ensemble_sharpe_minmax_search.json)
