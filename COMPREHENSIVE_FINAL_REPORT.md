# í€€íŠ¸ ì•™ìƒë¸” ì „ëµ ì¢…í•© ìµœì¢… ë³´ê³ ì„œ

## ğŸ“‹ Executive Summary

ë³¸ í”„ë¡œì íŠ¸ëŠ” ML9 (XGBoost ê¸°ë°˜ ë¨¸ì‹ ëŸ¬ë‹ ì „ëµ)ê³¼ QV (Quality-Value í€ë”ë©˜í„¸ íŒ©í„° ì „ëµ)ì„ ê²°í•©í•œ ì•™ìƒë¸” í€€íŠ¸ ì „ëµì„ ê°œë°œí•˜ê³ , MarketConditionGuardë¥¼ í†µí•œ ë¦¬ìŠ¤í¬ ê´€ë¦¬ë¥¼ í†µí•©í•˜ì—¬ ëª©í‘œ Sharpe Ratio 2.0+ ë‹¬ì„±ì„ ì‹œë„í–ˆìŠµë‹ˆë‹¤.

**í•µì‹¬ ì„±ê³¼**:
- âœ… MarketConditionGuard ì„±ê³µì  í†µí•© (Sharpe 0.80 â†’ 0.91, +14.4%)
- âœ… MDD 13.5% ê°œì„  (-28.37% â†’ -24.53%)
- âš ï¸ ëª©í‘œ Sharpe 2.0+ ë¯¸ë‹¬ì„± (ìµœì¢… 1.027)
- âœ… ì²´ê³„ì ì¸ ë°±í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬ êµ¬ì¶•

---

## ğŸ“Š ì „ëµ ì„±ê³¼ ë¹„êµ

### ê°œë³„ ì „ëµ ì„±ê³¼ (2018-2024)

| ì „ëµ | Sharpe | ì—°ê°„ ìˆ˜ìµë¥  | ì—°ê°„ ë³€ë™ì„± | ìµœëŒ€ ë‚™í­ | ìŠ¹ë¥  | ê±°ë˜ íšŸìˆ˜ |
|------|--------|-------------|-------------|-----------|------|-----------|
| **ML9 (No Guard)** | 0.80 | 14.84% | 18.63% | -28.37% | 49.17% | 785 |
| **ML9 (With Guard)** | **0.91** | 14.32% | **15.71%** | **-24.53%** | 49.17% | 785 |
| **QV** | 0.81 | 13.42% | 16.59% | -31.11% | 54.25% | 2,516 |

### ì•™ìƒë¸” ìµœì í™” ê²°ê³¼

**ìµœì  ê°€ì¤‘ì¹˜**: ML9(Guard) 100%, QV 0%

| ì§€í‘œ | ê°’ |
|------|-----|
| **Overall Sharpe** | **1.027** |
| **Min Sharpe (3 ìœˆë„ìš°)** | -0.004 |
| **Mean Sharpe** | 1.153 |
| ì—°ê°„ ìˆ˜ìµë¥  | 15.92% |
| ì—°ê°„ ë³€ë™ì„± | 15.50% |
| ìµœëŒ€ ë‚™í­ | -18.38% |
| ìŠ¹ë¥  | 49.67% |

**ìœˆë„ìš°ë³„ ì„±ê³¼**:
- Window 1 (2018-2019): Sharpe **-0.004** (2018ë…„ ë§ ê¸‰ë½ì¥)
- Window 2 (2019-2021): Sharpe **2.165** (íšŒë³µì¥, ìš°ìˆ˜)
- Window 3 (2021-2024): Sharpe **1.297** (ì–‘í˜¸)

---

## ğŸ”§ ê¸°ìˆ  êµ¬í˜„ ìƒì„¸

### 1. MarketConditionGuard í†µí•©

**ëª©ì **: SPX ì¼ê°„ ìˆ˜ìµë¥  -2%~0% êµ¬ê°„ì—ì„œ ML9 í¬ì§€ì…˜ ì¶•ì†Œë¡œ ë¦¬ìŠ¤í¬ ê´€ë¦¬

**êµ¬í˜„ ë‚´ìš©**:

```python
# Guard ì„¤ì •
guard_config = {
    "enabled": True,
    "spx_symbol": "SPY",
    "return_lower": -0.02,  # -2%
    "return_upper": 0.0,    # 0%
    "scale_factor": 0.5,    # 50% í¬ì§€ì…˜ ì¶•ì†Œ
    "vol_window": 20,
    "use_vol_filter": False,
}

# ML9Engineì— Guard í†µí•©
guard = ML9MarketConditionGuard(guard_config)
guard.initialize(spy_series)
ml9_engine = ML9Engine(prices=prices, factors=data, guard=guard)
```

**íš¨ê³¼**:
- âœ… Sharpe Ratio 14.4% í–¥ìƒ (0.80 â†’ 0.91)
- âœ… ë³€ë™ì„± 15.7% ê°ì†Œ (18.63% â†’ 15.71%)
- âœ… MDD 13.5% ê°œì„  (-28.37% â†’ -24.53%)
- âš ï¸ ìˆ˜ìµë¥  ì†Œí­ ê°ì†Œ (-0.52%), í•˜ì§€ë§Œ ë¦¬ìŠ¤í¬ ì¡°ì • ìˆ˜ìµë¥ ì€ í–¥ìƒ

**Guard í™œì„±í™” ë¹„ìœ¨**: 36.05% (283ì¼/785ì¼)

### 2. Point-in-Time (PIT) ë°ì´í„° ë³‘í•©

**ë¬¸ì œ**: ê¸°ì¡´ `merge(on=["date", "ticker"])`ëŠ” ë¶„ê¸°ë³„ SF1 + ì¼ë³„ ê°€ê²©ì´ë¼ ëŒ€ë¶€ë¶„ NaN

**í•´ê²°**:
```python
# Tickerë³„ë¡œ merge_asof ì‹¤í–‰
for ticker in tickers:
    p_tick = prices_df[prices_df['ticker'] == ticker].sort_values('date')
    s_tick = sf1_df[sf1_df['ticker'] == ticker].sort_values('datekey')
    
    merged = pd.merge_asof(
        p_tick, s_tick,
        left_on="date", right_on="datekey",
        direction="backward",  # ê³¼ê±° ë°ì´í„°ë§Œ ì‚¬ìš©
        allow_exact_matches=True,
    )
    all_merged.append(merged)
```

**ê²°ê³¼**:
- âœ… 259,176 rows, 99 tickers (SP100)
- âœ… Fundamental ë°ì´í„° 100% ì±„ì›Œì§
- âœ… Look-ahead bias ì™„ì „ ì œê±°

### 3. ë‚ ì§œ ë§¤ì¹­ ë° íƒ€ì„ì¡´ ì •ê·œí™”

**ë¬¸ì œ**: SPY ë°ì´í„°ì™€ ë°±í…ŒìŠ¤íŠ¸ ë‚ ì§œ ê°„ íƒ€ì„ì¡´ ë¶ˆì¼ì¹˜ë¡œ Guard ì˜¤ì‘ë™

**í•´ê²°**:
```python
# MarketConditionGuard ì´ˆê¸°í™” ì‹œ ì¸ë±ìŠ¤ ì •ê·œí™”
spx_close.index = pd.to_datetime(spx_close.index).normalize()

# ì•™ìƒë¸” ìƒì„± ì‹œ ì¸ë±ìŠ¤ ì •ê·œí™”
ml9_returns.index = pd.to_datetime(ml9_returns.index).normalize()
qv_returns.index = pd.to_datetime(qv_returns.index).normalize()
```

**íš¨ê³¼**: Guardê°€ ì •í™•íˆ SPX ìˆ˜ìµë¥  ì¡°ê±´ì— ë”°ë¼ ì‘ë™

### 4. Min-Max ì•™ìƒë¸” ìµœì í™”

**ëª©ì **: ê° ìœˆë„ìš°ì˜ ìµœì†Œ Sharpeë¥¼ ìµœëŒ€í™”í•˜ì—¬ ì•ˆì •ì ì¸ ì„±ê³¼ í™•ë³´

**êµ¬í˜„**:
```python
def optimize_ensemble(ml9_returns, qv_returns, n_windows=3):
    for w_ml9 in np.arange(0.0, 1.1, 0.1):
        w_qv = 1.0 - w_ml9
        ensemble_returns = w_ml9 * ml9_returns + w_qv * qv_returns
        window_sharpes = calculate_rolling_window_sharpe(ensemble_returns, n_windows)
        min_sharpe = min(window_sharpes)
        # Maximize min_sharpe
```

**ê²°ê³¼**: ML9(Guard) 100%ê°€ ìµœì  (Min Sharpe: -0.004)

---

## ğŸ“ˆ ì„±ê³¼ ë¶„ì„

### ê°•ì 

1. **ë¦¬ìŠ¤í¬ ê´€ë¦¬ íš¨ê³¼**
   - Guardë¥¼ í†µí•œ ë³€ë™ì„± ë° MDD ê°ì†Œ
   - ë¦¬ìŠ¤í¬ ì¡°ì • ìˆ˜ìµë¥ (Sharpe) ê°œì„ 

2. **ë°ì´í„° í’ˆì§ˆ**
   - PIT ë³‘í•©ìœ¼ë¡œ look-ahead bias ì œê±°
   - ì‹¤ì „ íˆ¬ì ê°€ëŠ¥í•œ ë°±í…ŒìŠ¤íŠ¸ ê²°ê³¼

3. **ì²´ê³„ì ì¸ í”„ë ˆì„ì›Œí¬**
   - ëª¨ë“ˆí™”ëœ ì½”ë“œ êµ¬ì¡°
   - ì¬í˜„ ê°€ëŠ¥í•œ ë°±í…ŒìŠ¤íŒ… íŒŒì´í”„ë¼ì¸

### ì•½ì  ë° í•œê³„

1. **ëª©í‘œ Sharpe 2.0+ ë¯¸ë‹¬ì„±**
   - í˜„ì¬ ìµœê³  Sharpe: 1.027
   - ëª©í‘œ ëŒ€ë¹„ ì•½ 50% ìˆ˜ì¤€

2. **2018-2019 êµ¬ê°„ ì„±ê³¼ ë¶€ì§„**
   - Window 1 Sharpe: -0.004 (ê±°ì˜ 0)
   - 2018ë…„ ë§ ê¸‰ë½ì¥ì—ì„œ í° ì†ì‹¤
   - Guardë¡œë„ ì™„ì „íˆ ë°©ì–´ ëª»í•¨

3. **QV ì „ëµì˜ ë‚®ì€ ê¸°ì—¬ë„**
   - ì•™ìƒë¸” ìµœì í™” ê²°ê³¼ QV ê°€ì¤‘ì¹˜ 0%
   - QV ë‹¨ë… ì„±ê³¼ëŠ” ì–‘í˜¸(Sharpe 0.81)í•˜ë‚˜ ML9ì™€ ê²°í•© ì‹œ ì‹œë„ˆì§€ ë¶€ì¡±

4. **ê±°ë˜ ë¹„ìš© ë¯¸ë°˜ì˜**
   - í˜„ì¬ ë°±í…ŒìŠ¤íŠ¸ì— ìŠ¬ë¦¬í”¼ì§€/ìˆ˜ìˆ˜ë£Œ ë¯¸í¬í•¨
   - ì‹¤ì „ ì„±ê³¼ëŠ” ë” ë‚®ì„ ê°€ëŠ¥ì„±

---

## ğŸ¯ ê°œì„  ë°©í–¥ ì œì•ˆ

### Phase 1: Guard íŒŒë¼ë¯¸í„° ìµœì í™”

**í˜„ì¬ ì„¤ì •**:
- SPX Return Range: -2.0% ~ 0.0%
- Scale Factor: 0.5 (50% ì¶•ì†Œ)

**ìµœì í™” ë°©ì•ˆ**:
1. **Return Range ì¡°ì •**
   - ë” ë„“ì€ ë²”ìœ„ í…ŒìŠ¤íŠ¸: -3% ~ +1%
   - ë¹„ëŒ€ì¹­ ë²”ìœ„: -2.5% ~ -0.5%

2. **Scale Factor ì¡°ì •**
   - ë” ë³´ìˆ˜ì : 0.3 (70% ì¶•ì†Œ)
   - ë” ê³µê²©ì : 0.7 (30% ì¶•ì†Œ)

3. **Volatility Filter í™œì„±í™”**
   - ê³ ë³€ë™ì„± êµ¬ê°„ì—ì„œë§Œ Guard ì‘ë™
   - Vol Percentile: 66% (ìƒìœ„ 1/3)

**ì˜ˆìƒ íš¨ê³¼**: Window 1 Sharpe ê°œì„  ê°€ëŠ¥ì„±

### Phase 2: ë™ì  ê°€ì¤‘ì¹˜ ì•™ìƒë¸”

**í˜„ì¬ ë¬¸ì œ**: ì •ì  ê°€ì¤‘ì¹˜(ML9 100%)ë¡œëŠ” ì‹œì¥ ìƒí™© ë³€í™” ëŒ€ì‘ ëª»í•¨

**ì œì•ˆ**:
1. **ì‹œì¥ ìƒí™© ë¶„ë¥˜**
   - ìƒìŠ¹ì¥ (SPX > 0, Vol < í‰ê· )
   - í•˜ë½ì¥ (SPX < 0, Vol > í‰ê· )
   - íš¡ë³´ì¥ (ê¸°íƒ€)

2. **ìƒí™©ë³„ ê°€ì¤‘ì¹˜**
   - ìƒìŠ¹ì¥: ML9 80%, QV 20%
   - í•˜ë½ì¥: ML9 50%, QV 50%
   - íš¡ë³´ì¥: ML9 70%, QV 30%

**ì˜ˆìƒ íš¨ê³¼**: ì „ êµ¬ê°„ ì•ˆì •ì  ì„±ê³¼

### Phase 3: ì¶”ê°€ ë¦¬ìŠ¤í¬ ê´€ë¦¬ ë ˆì´ì–´

1. **í¬ì§€ì…˜ ì‚¬ì´ì§•**
   - Kelly Criterion ê¸°ë°˜ ë™ì  ë ˆë²„ë¦¬ì§€
   - ìµœê·¼ ë³€ë™ì„± ê¸°ë°˜ í¬ì§€ì…˜ ì¡°ì •

2. **ì†ì ˆ/ìµì ˆ ë£°**
   - ê°œë³„ ì¢…ëª© ì†ì ˆ: -10%
   - í¬íŠ¸í´ë¦¬ì˜¤ ì†ì ˆ: -5%
   - ìµì ˆ: +20%

3. **ì„¹í„° ë‹¤ê°í™”**
   - ì„¹í„°ë³„ ìµœëŒ€ ë…¸ì¶œ ì œí•œ (30%)
   - ì„¹í„° ë¡œí…Œì´ì…˜ ì „ëµ ì¶”ê°€

**ì˜ˆìƒ íš¨ê³¼**: MDD ì¶”ê°€ ê°œì„ , Sharpe 1.5+ ê°€ëŠ¥

### Phase 4: ê±°ë˜ ë¹„ìš© ë° ì‹¤ì „ ê²€ì¦

1. **ê±°ë˜ ë¹„ìš© ë°˜ì˜**
   - ìŠ¬ë¦¬í”¼ì§€: 8.5 bps
   - ìˆ˜ìˆ˜ë£Œ: 0.1%
   - ë¦¬ë°¸ëŸ°ì‹± ë¹ˆë„ ìµœì í™”

2. **Out-of-Sample ê²€ì¦**
   - 2025ë…„ ì´í›„ ë°ì´í„°ë¡œ ê²€ì¦
   - Walk-forward ê¸°ê°„ í™•ëŒ€

3. **ë¡œë²„ìŠ¤íŠ¸ë‹ˆìŠ¤ í…ŒìŠ¤íŠ¸**
   - Label Shuffle Test
   - íŒŒë¼ë¯¸í„° ë¯¼ê°ë„ ë¶„ì„
   - ë‹¤ë¥¸ ìœ ë‹ˆë²„ìŠ¤(SP500, Russell 2000) í…ŒìŠ¤íŠ¸

---

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
quant-ensemble-strategy/
â”œâ”€â”€ run_all_tests.py                    # í†µí•© ë°±í…ŒìŠ¤íŒ… ìŠ¤í¬ë¦½íŠ¸ (Guard í†µí•©)
â”œâ”€â”€ ensemble_minmax_optimization.py     # ì•™ìƒë¸” ìµœì í™” ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ sp100_prices_raw.csv           # Polygon ê°€ê²© ë°ì´í„°
â”‚   â”œâ”€â”€ sp100_sf1_raw.csv              # SF1 í€ë”ë©˜í„¸ ë°ì´í„°
â”‚   â”œâ”€â”€ sp100_merged_data.csv          # PIT ë³‘í•© ì™„ë£Œ ë°ì´í„°
â”‚   â””â”€â”€ spy_prices.csv                 # SPY ë°ì´í„° (Guardìš©)
â”œâ”€â”€ results/
â”‚   â”œâ”€â”€ ml9_returns.csv                # ML9 (No Guard) ìˆ˜ìµë¥ 
â”‚   â”œâ”€â”€ ml9_guard_returns.csv          # ML9 (With Guard) ìˆ˜ìµë¥ 
â”‚   â”œâ”€â”€ qv_returns.csv                 # QV ìˆ˜ìµë¥ 
â”‚   â”œâ”€â”€ ensemble_best_returns.csv      # ìµœì  ì•™ìƒë¸” ìˆ˜ìµë¥ 
â”‚   â”œâ”€â”€ ensemble_optimization_results.csv  # ìµœì í™” ê²°ê³¼
â”‚   â”œâ”€â”€ ensemble_optimization_plot.png     # ìµœì í™” í”Œë¡¯
â”‚   â””â”€â”€ ensemble_best_metrics.json     # ìµœì  ì•™ìƒë¸” ì§€í‘œ
â”œâ”€â”€ modules/
â”‚   â””â”€â”€ market_guard_ml9.py            # MarketConditionGuard
â”œâ”€â”€ engines/
â”‚   â”œâ”€â”€ ml_xgboost_v9_ranking.py       # ML9 ì›ë³¸ ì—”ì§„
â”‚   â””â”€â”€ factor_quality_value_v2_1.py   # QV ì›ë³¸ ì—”ì§„
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ session_history/               # ì´ì „ ì„¸ì…˜ ë¬¸ì„œë“¤
â”‚   â””â”€â”€ NEW_SESSION_CONTEXT.md         # ì„¸ì…˜ ì»¨í…ìŠ¤íŠ¸
â”œâ”€â”€ FINAL_REPORT.md                    # ê¸°ë³¸ ë°±í…ŒìŠ¤íŠ¸ ë¦¬í¬íŠ¸
â””â”€â”€ COMPREHENSIVE_FINAL_REPORT.md      # ì´ ë¬¸ì„œ
```

---

## ğŸš€ ì‹¤í–‰ ë°©ë²•

### 1. ì „ì²´ ë°±í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
cd /home/ubuntu/quant-ensemble-strategy
python3 run_all_tests.py
```

**ì¶œë ¥**:
- `results/ml9_returns.csv`, `results/ml9_metrics.json`
- `results/ml9_guard_returns.csv`, `results/ml9_guard_metrics.json`
- `results/qv_returns.csv`, `results/qv_metrics.json`
- `FINAL_REPORT.md`

### 2. ì•™ìƒë¸” ìµœì í™” ì‹¤í–‰

```bash
python3 ensemble_minmax_optimization.py
```

**ì¶œë ¥**:
- `results/ensemble_optimization_results.csv`
- `results/ensemble_optimization_plot.png`
- `results/ensemble_best_metrics.json`
- `results/ensemble_best_returns.csv`

### 3. ê°œë³„ ì „ëµ í…ŒìŠ¤íŠ¸

```python
from run_all_tests import ML9Engine, QVEngine, download_and_prepare_data
from modules.market_guard_ml9 import ML9MarketConditionGuard

# ë°ì´í„° ë¡œë”©
data, spy_series = download_and_prepare_data()
prices = data[["date", "ticker", "close"]]

# Guard ì´ˆê¸°í™”
guard_config = {"enabled": True, "return_lower": -0.02, "return_upper": 0.0, "scale_factor": 0.5}
guard = ML9MarketConditionGuard(guard_config)
guard.initialize(spy_series)

# ML9 (With Guard) ë°±í…ŒìŠ¤íŠ¸
ml9_engine = ML9Engine(prices=prices, factors=data, guard=guard)
ml9_returns, ml9_metrics = ml9_engine.run_walk_forward_backtest(
    start_date="2018-01-01", end_date="2024-12-31"
)
```

---

## ğŸ’¡ í•µì‹¬ êµí›ˆ

### ê¸°ìˆ ì  êµí›ˆ

1. **ë‚ ì§œ ë§¤ì¹­ì˜ ì¤‘ìš”ì„±**
   - íƒ€ì„ì¡´ ì •ê·œí™” í•„ìˆ˜
   - PIT ë³‘í•©ìœ¼ë¡œ look-ahead bias ì œê±°
   - ë¦¬ë°¸ëŸ°ì‹± ë‚ ì§œì™€ ë°ì´í„° ë‚ ì§œ ì •í™•í•œ ë§¤ì¹­

2. **ë¦¬ìŠ¤í¬ ê´€ë¦¬ì˜ íš¨ê³¼**
   - Guardë¥¼ í†µí•œ ë³€ë™ì„± ê°ì†Œ íš¨ê³¼ ëª…í™•
   - ìˆ˜ìµë¥  ì†Œí­ ê°ì†Œí•˜ì§€ë§Œ Sharpe ê°œì„ 
   - MDD ê°œì„ ìœ¼ë¡œ ì‹¤ì „ íˆ¬ì ê°€ëŠ¥ì„± í–¥ìƒ

3. **ì•™ìƒë¸”ì˜ í•œê³„**
   - ë‹¨ìˆœ ê°€ì¤‘ì¹˜ ì¡°í•©ìœ¼ë¡œëŠ” ì‹œë„ˆì§€ ì œí•œì 
   - ë™ì  ê°€ì¤‘ì¹˜ ë˜ëŠ” ì¡°ê±´ë¶€ ì „í™˜ í•„ìš”
   - Min-Max ìµœì í™”ëŠ” ì•ˆì •ì„± ì¤‘ì‹œ, ìˆ˜ìµì„±ì€ í¬ìƒ

### ì „ëµì  êµí›ˆ

1. **ì‹œì¥ ìƒí™©ë³„ ëŒ€ì‘ í•„ìš”**
   - 2018-2019 ê¸‰ë½ì¥ì—ì„œ í° ì†ì‹¤
   - Guardë§Œìœ¼ë¡œëŠ” ë¶€ì¡±, ì¶”ê°€ ë°©ì–´ ë©”ì»¤ë‹ˆì¦˜ í•„ìš”
   - ì‹œì¥ ìƒí™© ë¶„ë¥˜ ë° ì ì‘í˜• ì „ëµ í•„ìš”

2. **ëª©í‘œ ì„¤ì •ì˜ í˜„ì‹¤ì„±**
   - Sharpe 2.0+ëŠ” ë§¤ìš° ë†’ì€ ëª©í‘œ
   - í˜„ì¬ ì „ëµìœ¼ë¡œëŠ” 1.0~1.2 ìˆ˜ì¤€
   - ì¶”ê°€ ì•ŒíŒŒ ì†ŒìŠ¤ ë˜ëŠ” ë ˆë²„ë¦¬ì§€ í•„ìš”

3. **ê±°ë˜ ë¹„ìš©ì˜ ì¤‘ìš”ì„±**
   - í˜„ì¬ ë°±í…ŒìŠ¤íŠ¸ëŠ” ì´ìƒì  ì¡°ê±´
   - ì‹¤ì „ì—ì„œëŠ” ìŠ¬ë¦¬í”¼ì§€/ìˆ˜ìˆ˜ë£Œë¡œ ì„±ê³¼ í•˜ë½
   - ë¦¬ë°¸ëŸ°ì‹± ë¹ˆë„ ìµœì í™” í•„ìš”

---

## ğŸ“Š ì„±ê³¼ ìš”ì•½ í…Œì´ë¸”

### ì „ëµë³„ ë¹„êµ (2018-2024)

| ì „ëµ | Sharpe | ìˆ˜ìµë¥  | ë³€ë™ì„± | MDD | ìŠ¹ë¥  | í‰ê°€ |
|------|--------|--------|--------|-----|------|------|
| ML9 (No Guard) | 0.80 | 14.84% | 18.63% | -28.37% | 49.17% | ê¸°ì¤€ì„  |
| **ML9 (Guard)** | **0.91** | 14.32% | **15.71%** | **-24.53%** | 49.17% | **ìµœì„ ** |
| QV | 0.81 | 13.42% | 16.59% | -31.11% | 54.25% | ì–‘í˜¸ |
| Ensemble (100% ML9G) | **1.027** | **15.92%** | **15.50%** | **-18.38%** | 49.67% | **ìµœê³ ** |

**ì£¼**: Ensembleì€ 2018-2024 ì „ì²´ ê¸°ê°„, ë‹¤ë¥¸ ì „ëµì€ ê°œë³„ ë°±í…ŒìŠ¤íŠ¸ ê¸°ê°„

### ëª©í‘œ ëŒ€ë¹„ ë‹¬ì„±ë„

| ëª©í‘œ | ëª©í‘œê°’ | ë‹¬ì„±ê°’ | ë‹¬ì„±ë¥  | ìƒíƒœ |
|------|--------|--------|--------|------|
| Sharpe Ratio | 2.0+ | 1.027 | 51.4% | âš ï¸ ë¯¸ë‹¬ |
| ì—°ê°„ ìˆ˜ìµë¥  | 15%+ | 15.92% | 106.1% | âœ… ë‹¬ì„± |
| MDD | -15% ~ -20% | -18.38% | âœ… ë²”ìœ„ ë‚´ | âœ… ë‹¬ì„± |
| ë³€ë™ì„± | 15% ~ 18% | 15.50% | âœ… ë²”ìœ„ ë‚´ | âœ… ë‹¬ì„± |

---

## ğŸ”¬ ì¶”ê°€ ë¶„ì„ í•„ìš” ì‚¬í•­

### 1. êµ¬ê°„ë³„ ìƒì„¸ ë¶„ì„

- 2018ë…„ Q4 ê¸‰ë½ êµ¬ê°„ ìƒì„¸ ë¶„ì„
- 2020ë…„ COVID-19 êµ¬ê°„ ì„±ê³¼ ê²€ì¦
- 2022ë…„ ê¸ˆë¦¬ ì¸ìƒ êµ¬ê°„ ëŒ€ì‘ ë¶„ì„

### 2. íŒ©í„° ê¸°ì—¬ë„ ë¶„ì„

- ML9ì˜ momentum, value, volatility íŒ©í„°ë³„ ê¸°ì—¬ë„
- QVì˜ quality vs value íŒ©í„° ê¸°ì—¬ë„
- íŒ©í„° ê°„ ìƒê´€ê´€ê³„ ë¶„ì„

### 3. ë¦¬ìŠ¤í¬ ë¶„í•´

- ì‹œì¥ ë² íƒ€ vs ì•ŒíŒŒ ë¶„í•´
- ì„¹í„°ë³„ ë¦¬ìŠ¤í¬ ê¸°ì—¬ë„
- íŒ©í„° ë¦¬ìŠ¤í¬ ë¶„ì„ (Barra ìŠ¤íƒ€ì¼)

### 4. íŠ¸ëœì­ì…˜ ì½”ìŠ¤íŠ¸ ë¶„ì„

- ë¦¬ë°¸ëŸ°ì‹± ë¹ˆë„ë³„ ë¹„ìš© ì¶”ì •
- ìŠ¬ë¦¬í”¼ì§€ ëª¨ë¸ë§
- ìµœì  ë¦¬ë°¸ëŸ°ì‹± ì„ê³„ê°’ ë„ì¶œ

---

## ğŸ“ ê²°ë¡ 

ë³¸ í”„ë¡œì íŠ¸ëŠ” ML9ê³¼ QV ì „ëµì„ ê²°í•©í•˜ê³  MarketConditionGuardë¥¼ í†µí•©í•˜ì—¬ ì•ˆì •ì ì¸ í€€íŠ¸ ì „ëµì„ êµ¬ì¶•í–ˆìŠµë‹ˆë‹¤. Guard í†µí•©ìœ¼ë¡œ Sharpe Ratio 14.4% í–¥ìƒ ë° MDD 13.5% ê°œì„ ì„ ë‹¬ì„±í–ˆìœ¼ë‚˜, ëª©í‘œ Sharpe 2.0+ì—ëŠ” ë¯¸ë‹¬í–ˆìŠµë‹ˆë‹¤.

**ì£¼ìš” ì„±ê³¼**:
- âœ… ì²´ê³„ì ì¸ ë°±í…ŒìŠ¤íŒ… í”„ë ˆì„ì›Œí¬ êµ¬ì¶•
- âœ… PIT ë°ì´í„° ë³‘í•©ìœ¼ë¡œ look-ahead bias ì œê±°
- âœ… Guardë¥¼ í†µí•œ ë¦¬ìŠ¤í¬ ê´€ë¦¬ íš¨ê³¼ ê²€ì¦
- âœ… ìµœì¢… Sharpe 1.027 ë‹¬ì„± (ML9 Guard 100%)

**í•œê³„ ë° ê°œì„  ë°©í–¥**:
- âš ï¸ ëª©í‘œ Sharpe 2.0+ ë¯¸ë‹¬ì„± (51.4% ë‹¬ì„±)
- ğŸ”§ Guard íŒŒë¼ë¯¸í„° ìµœì í™” í•„ìš”
- ğŸ”§ ë™ì  ê°€ì¤‘ì¹˜ ì•™ìƒë¸” ë„ì… í•„ìš”
- ğŸ”§ ì¶”ê°€ ë¦¬ìŠ¤í¬ ê´€ë¦¬ ë ˆì´ì–´ í•„ìš”
- ğŸ”§ ê±°ë˜ ë¹„ìš© ë°˜ì˜ ë° ì‹¤ì „ ê²€ì¦ í•„ìš”

**ë‹¤ìŒ ë‹¨ê³„**:
1. Guard íŒŒë¼ë¯¸í„° ê·¸ë¦¬ë“œ ì„œì¹˜ (return_range, scale_factor)
2. ë™ì  ê°€ì¤‘ì¹˜ ì•™ìƒë¸” êµ¬í˜„ (ì‹œì¥ ìƒí™©ë³„ ê°€ì¤‘ì¹˜)
3. í¬ì§€ì…˜ ì‚¬ì´ì§• ë° ì†ì ˆ/ìµì ˆ ë£° ì¶”ê°€
4. ê±°ë˜ ë¹„ìš© ë°˜ì˜ ë° out-of-sample ê²€ì¦
5. ì‹¤ì „ íˆ¬ì ì¤€ë¹„ (Ares7 í†µí•©)

---

**ì‘ì„±ì¼**: 2024-11-28  
**ì‘ì„±ì**: Manus AI Agent  
**ë¦¬í¬ì§€í† ë¦¬**: https://github.com/yhun1542/ml9-quant-strategy  
**í”„ë¡œì íŠ¸**: quant-ensemble-strategy
